# 模块 8：业务理解与上线闭环（CO8）

从“能跑”到“能用、能量化、能回滚”的差距在于业务闭环。本模块建立指标体系、实验与灰度策略、成本模型与回滚预案，形成生产级上线流程。

学习目标（对齐 CO8）
- 能从 PRD 抽取技术要点与风险点，建立指标树（效果/效率/成本/风险）。
- 设计 A/B 实验并进行显著性分析；给出清晰的结论与复盘。
- 制定灰度与回滚方案；建立月度成本模型并优化。

目录
- metrics_tree.md：指标体系示例。
- ab_test.md：A/B 实验设计要点与流程。
- gray_release_plan.md：灰度发布与回滚预案模板。
- cost_model.py：月度 Token/存储/推理成本模型示例。
- job-prep.md：求职资产打包与面试准备清单。

运行示例
```
python modules/module-08-business/cost_model.py --req-per-day 2000 --avg-tokens 800 --price-per-1k 0.002 --days 30
```

1. PRD 与技术可行性评估
- P0/P1/P2 优先级；关键路径（最小可行链路）；上线门槛与验收标准。
- 风险列表：数据合规、延迟/稳定性、供应商依赖、成本不确定性。

2. 指标体系与北极星指标
- 效果/效率/成本/风险四象限；选择 1–2 个北极星指标。
- 指标可被实验直接影响，且可量化可复现。

3. A/B 实验与显著性
- 样本量估计与功效分析；避免提前停止与多重比较带来的偏差。
- 业务周期覆盖；监控与止损阈值（见 gray_release_plan.md）。

4. 灰度与回滚
- 灰度维度：用户/租户/地区/流量比例；扩容节奏与观察周期。
- 回滚条件与流程标准化；回放日志支持复盘与审计。

5. 成本模型与优化
- Token 成本：输入/输出分开计量；缓存与复用策略。
- 向量存储/推理资源成本；批处理与并发策略优化 CPT。

6. 产出与汇报
- 15 分钟业务汇报：PRD→指标树→方案→实验→灰度→成本→结论。
- 文档：可复现的成本表、实验报告与回滚演练记录。

学习路径（循序渐进）
- lessons/01-prd.md：PRD 解读与技术拆解
- lessons/02-metrics.md：指标树与北极星
- lessons/03-experiment.md：A/B 实验与显著性
- lessons/04-gray-release.md：灰度发布与回滚
- lessons/05-costs.md：成本模型与优化
- lessons/06-capstone.md：Capstone 与复盘
- job-prep.md：结合项目成果的求职指南
